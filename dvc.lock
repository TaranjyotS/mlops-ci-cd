schema: '2.0'
stages:
  generate:
    cmd: python -m mlops_ci_cd.data.generate --out data/raw/train.csv --rows 1000
      --seed 42
    deps:
    - path: src/mlops_ci_cd/data/generate.py
      hash: md5
      md5: 3d1f73694fa47f05b5243a48606223b8
      size: 1605
    outs:
    - path: data/raw/train.csv
      hash: md5
      md5: 3ac6ed1514c823bea8340b30e0c440c7
      size: 39549
  validate:
    cmd: python -m mlops_ci_cd.data.validate --data data/raw/train.csv
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: 3ac6ed1514c823bea8340b30e0c440c7
      size: 39549
    - path: src/mlops_ci_cd/data/validate.py
      hash: md5
      md5: 32dbbf8231cb62ba0af40134fa5686ec
      size: 3214
    outs:
    - path: reports/ge_validation.json
      hash: md5
      md5: 0506532462827fd6c963c2d4e71dc7a9
      size: 2080
  train:
    cmd: python -m mlops_ci_cd.model.train --data data/raw/train.csv --model-out models/model.joblib
      --metrics-out reports/metrics.json
    deps:
    - path: data/raw/train.csv
      hash: md5
      md5: 3ac6ed1514c823bea8340b30e0c440c7
      size: 39549
    - path: src/mlops_ci_cd/model/train.py
      hash: md5
      md5: 7d4f202d8f4759178327c51335573f8f
      size: 2641
    outs:
    - path: models/model.joblib
      hash: md5
      md5: 8b6dc26b8dc2176e683e0c5f2f9ffbde
      size: 3984473
    - path: reports/metrics.json
      hash: md5
      md5: 5204445715991a0d9da6a7ec5b64cb05
      size: 25
  register:
    cmd: python -m mlops_ci_cd.model.registry --name random_forest_model
    deps:
    - path: models/model.joblib
      hash: md5
      md5: 8b6dc26b8dc2176e683e0c5f2f9ffbde
      size: 3984473
    - path: src/mlops_ci_cd/model/registry.py
      hash: md5
      md5: 97e0bc7eedc1c61b59331f83c70616e4
      size: 1865
